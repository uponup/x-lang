import{_ as a,c as n,b as e,o as p}from"./app-CZKSgHGg.js";const t={};function c(l,s){return p(),n("div",null,[...s[0]||(s[0]=[e(`<p>[1 tool called]</p><p><code>pub(in crate::biz_service::dex)</code> 是 Rust 的<strong>受限可见性</strong>（Restricted Visibility）语法，用于精确控制模块的可见范围。</p><h2 id="可见性修饰符对比" tabindex="-1"><a class="header-anchor" href="#可见性修饰符对比"><span><strong>可见性修饰符对比：</strong></span></a></h2><h3 id="_1-pub-完全公开" tabindex="-1"><a class="header-anchor" href="#_1-pub-完全公开"><span>1. <strong><code>pub</code></strong> - 完全公开</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span>  <span class="token comment">// 对所有人可见</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-pub-crate-crate-内部可见" tabindex="-1"><a class="header-anchor" href="#_2-pub-crate-crate-内部可见"><span>2. <strong><code>pub(crate)</code></strong> - crate 内部可见</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">crate</span><span class="token punctuation">)</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span>  <span class="token comment">// 只在当前 crate 内可见</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-pub-super-父模块可见" tabindex="-1"><a class="header-anchor" href="#_3-pub-super-父模块可见"><span>3. <strong><code>pub(super)</code></strong> - 父模块可见</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">)</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span>  <span class="token comment">// 只对父模块可见</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4-pub-self-当前模块可见-等同于私有" tabindex="-1"><a class="header-anchor" href="#_4-pub-self-当前模块可见-等同于私有"><span>4. <strong><code>pub(self)</code></strong> - 当前模块可见（等同于私有）</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span>  <span class="token comment">// 只在当前模块内可见</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-pub-in-path-指定路径可见" tabindex="-1"><a class="header-anchor" href="#_5-pub-in-path-指定路径可见"><span>5. <strong><code>pub(in path)</code></strong> - 指定路径可见</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>biz_service<span class="token punctuation">::</span></span>dex<span class="token punctuation">)</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span>  </span>
<span class="line"><span class="token comment">// 只在 crate::biz_service::dex 模块及其子模块内可见</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="你的代码含义" tabindex="-1"><a class="header-anchor" href="#你的代码含义"><span><strong>你的代码含义：</strong></span></a></h2><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>biz_service<span class="token punctuation">::</span></span>dex<span class="token punctuation">)</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这表示 <code>gateway</code> 模块：</p><ul><li>✅ 在 <code>crate::biz_service::dex</code> 及其所有子模块中可见</li><li>✅ 在 <code>crate::biz_service::dex::request</code> 中可见</li><li>✅ 在 <code>crate::biz_service::dex::types</code> 中可见</li><li>❌ 在 <code>crate::biz_service::dex</code> 之外不可见</li><li>❌ 在其他 crate 中不可见</li></ul><h2 id="使用场景" tabindex="-1"><a class="header-anchor" href="#使用场景"><span><strong>使用场景：</strong></span></a></h2><p>这种写法适用于你想在 <code>dex</code> 模块内共享代码，但不想暴露给模块外部的情况：</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// dex/src/request/ai_summary/mod.rs</span></span>
<span class="line"><span class="token keyword">pub</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>biz_service<span class="token punctuation">::</span></span>dex<span class="token punctuation">)</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">gateway</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// dex/src/types/ai_summary/response.rs</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>biz_service<span class="token punctuation">::</span>dex<span class="token punctuation">::</span>request<span class="token punctuation">::</span>ai_summary<span class="token punctuation">::</span></span>gateway<span class="token punctuation">;</span>  <span class="token comment">// ✅ 可以访问</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 其他模块如 assets/</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token keyword">crate</span><span class="token module-declaration namespace"><span class="token punctuation">::</span>biz_service<span class="token punctuation">::</span>assets<span class="token punctuation">::</span>request<span class="token punctuation">::</span>ai_summary<span class="token punctuation">::</span></span>gateway<span class="token punctuation">;</span>  <span class="token comment">// ❌ 无法访问</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种方式比 <code>pub(crate)</code> 更精确，可以将可见性限制在更小的范围内，实现更好的封装性。</p>`,21)])])}const o=a(t,[["render",c]]),r=JSON.parse('{"path":"/rust_p/06_others/%E5%8F%AF%E8%A7%81%E6%80%A7%E4%BF%AE%E9%A5%B0%E7%AC%A6%E5%AF%B9%E6%AF%94.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"可见性修饰符对比：","slug":"可见性修饰符对比","link":"#可见性修饰符对比","children":[{"level":3,"title":"1. pub - 完全公开","slug":"_1-pub-完全公开","link":"#_1-pub-完全公开","children":[]},{"level":3,"title":"2. pub(crate) - crate 内部可见","slug":"_2-pub-crate-crate-内部可见","link":"#_2-pub-crate-crate-内部可见","children":[]},{"level":3,"title":"3. pub(super) - 父模块可见","slug":"_3-pub-super-父模块可见","link":"#_3-pub-super-父模块可见","children":[]},{"level":3,"title":"4. pub(self) - 当前模块可见（等同于私有）","slug":"_4-pub-self-当前模块可见-等同于私有","link":"#_4-pub-self-当前模块可见-等同于私有","children":[]},{"level":3,"title":"5. pub(in path) - 指定路径可见","slug":"_5-pub-in-path-指定路径可见","link":"#_5-pub-in-path-指定路径可见","children":[]}]},{"level":2,"title":"你的代码含义：","slug":"你的代码含义","link":"#你的代码含义","children":[]},{"level":2,"title":"使用场景：","slug":"使用场景","link":"#使用场景","children":[]}],"git":{"updatedTime":1760760973000,"contributors":[{"name":"jinpeng.gao","username":"","email":"jinpeng.gao@okg.com","commits":1}],"changelog":[{"hash":"d70ba6dad61962cc67cf67d5fa022d37518a27a1","time":1760760973000,"email":"jinpeng.gao@okg.com","author":"jinpeng.gao","message":"fix"}]},"filePathRelative":"rust_p/06_others/可见性修饰符对比.md"}');export{o as comp,r as data};
