import{_ as s,c as a,b as t,o as e}from"./app-WzcM213c.js";const p={};function l(i,n){return e(),a("div",null,[...n[0]||(n[0]=[t(`<h1 id="tokio-vs-å…¶ä»–å¼‚æ­¥è¿è¡Œæ—¶" tabindex="-1"><a class="header-anchor" href="#tokio-vs-å…¶ä»–å¼‚æ­¥è¿è¡Œæ—¶"><span>Tokio vs å…¶ä»–å¼‚æ­¥è¿è¡Œæ—¶</span></a></h1><h2 id="rust-å¼‚æ­¥è¿è¡Œæ—¶å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#rust-å¼‚æ­¥è¿è¡Œæ—¶å¯¹æ¯”"><span>Rust å¼‚æ­¥è¿è¡Œæ—¶å¯¹æ¯”</span></a></h2><p>Rust ç”Ÿæ€ä¸­æœ‰å¤šä¸ªå¼‚æ­¥è¿è¡Œæ—¶ï¼Œå„æœ‰ç‰¹ç‚¹ã€‚</p><h3 id="ä¸»è¦è¿è¡Œæ—¶" tabindex="-1"><a class="header-anchor" href="#ä¸»è¦è¿è¡Œæ—¶"><span>ä¸»è¦è¿è¡Œæ—¶</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="line">â”‚          Rust å¼‚æ­¥ç”Ÿæ€ç³»ç»Ÿ              â”‚</span>
<span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="line">â”‚  Tokio        â† æœ€æµè¡Œã€åŠŸèƒ½æœ€å…¨        â”‚</span>
<span class="line">â”‚  async-std    â† æ ‡å‡†åº“é£æ ¼              â”‚</span>
<span class="line">â”‚  smol         â† å°å·§ã€ç®€å•              â”‚</span>
<span class="line">â”‚  embassy      â† åµŒå…¥å¼                  â”‚</span>
<span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-tokio" tabindex="-1"><a class="header-anchor" href="#_1-tokio"><span>1. Tokio</span></a></h2><h3 id="ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹"><span>ç‰¹ç‚¹</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> tokio<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Tokio - æœ€æµè¡Œçš„é€‰æ‹©&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜åŠ¿</strong>ï¼š</p><ul><li>âœ… ç”Ÿæ€æœ€ä¸°å¯Œï¼ˆå¤§é‡åº“æ”¯æŒï¼‰</li><li>âœ… æ€§èƒ½ä¼˜ç§€</li><li>âœ… åŠŸèƒ½æœ€å…¨ï¼ˆç½‘ç»œã€æ–‡ä»¶ã€å®šæ—¶å™¨ç­‰ï¼‰</li><li>âœ… æ–‡æ¡£å®Œå–„</li><li>âœ… ç”Ÿäº§éªŒè¯ï¼ˆè¢«å¤§é‡å…¬å¸ä½¿ç”¨ï¼‰</li><li>âœ… æ´»è·ƒç»´æŠ¤</li></ul><p><strong>åŠ£åŠ¿</strong>ï¼š</p><ul><li>âŒ ç›¸å¯¹å¤æ‚</li><li>âŒ ç¼–è¯‘æ—¶é—´è¾ƒé•¿</li><li>âŒ ä¾èµ–è¾ƒå¤š</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>Web æœåŠ¡å™¨ï¼ˆAxumã€Actix-webï¼‰</li><li>å¾®æœåŠ¡</li><li>æ•°æ®åº“åº”ç”¨</li><li>ç½‘ç»œåº”ç”¨</li><li>ç”Ÿäº§ç¯å¢ƒ</li></ul><p><strong>ä¾èµ–</strong>ï¼š</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">tokio</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;full&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-async-std" tabindex="-1"><a class="header-anchor" href="#_2-async-std"><span>2. async-std</span></a></h2><h3 id="ç‰¹ç‚¹-1" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹-1"><span>ç‰¹ç‚¹</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> async_std<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;async-std - æ ‡å‡†åº“é£æ ¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜åŠ¿</strong>ï¼š</p><ul><li>âœ… API ä¸æ ‡å‡†åº“ä¸€è‡´ï¼ˆæ˜“å­¦ä¹ ï¼‰</li><li>âœ… ç®€å•æ˜“ç”¨</li><li>âœ… ç¼–è¯‘å¿«</li><li>âœ… ä¾èµ–å°‘</li></ul><p><strong>åŠ£åŠ¿</strong>ï¼š</p><ul><li>âŒ ç”Ÿæ€è¾ƒå°</li><li>âŒ æ€§èƒ½ç•¥é€Šäº Tokio</li><li>âŒ ç»´æŠ¤ä¸å¦‚ Tokio æ´»è·ƒ</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>å­¦ä¹ å¼‚æ­¥ç¼–ç¨‹</li><li>ä¸­å°å‹é¡¹ç›®</li><li>éœ€è¦æ ‡å‡†åº“é£æ ¼ API</li></ul><p><strong>ä¾èµ–</strong>ï¼š</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">async-std</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;attributes&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="api-å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#api-å¯¹æ¯”"><span>API å¯¹æ¯”</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span>fs<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">AsyncReadExt</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> file <span class="token operator">=</span> <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> contents <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> contents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// async-std - å‡ ä¹ç›¸åŒçš„ API</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span></span>fs<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">ReadExt</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> file <span class="token operator">=</span> <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> contents <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> contents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-smol" tabindex="-1"><a class="header-anchor" href="#_3-smol"><span>3. smol</span></a></h2><h3 id="ç‰¹ç‚¹-2" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹-2"><span>ç‰¹ç‚¹</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> smol<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;smol - å°è€Œç¾&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜åŠ¿</strong>ï¼š</p><ul><li>âœ… æå°çš„ä»£ç ä½“ç§¯</li><li>âœ… éå¸¸å¿«çš„ç¼–è¯‘é€Ÿåº¦</li><li>âœ… ç®€å•çš„ API</li><li>âœ… çµæ´»æ€§é«˜</li></ul><p><strong>åŠ£åŠ¿</strong>ï¼š</p><ul><li>âŒ ç”Ÿæ€è¾ƒå°</li><li>âŒ åŠŸèƒ½ç›¸å¯¹åŸºç¡€</li><li>âŒ æ–‡æ¡£è¾ƒå°‘</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>åµŒå…¥åˆ°å…¶ä»–åº”ç”¨</li><li>CLI å·¥å…·</li><li>éœ€è¦å¿«é€Ÿç¼–è¯‘</li><li>å°å‹é¡¹ç›®</li></ul><p><strong>ä¾èµ–</strong>ï¼š</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">smol</span> <span class="token punctuation">=</span> <span class="token string">&quot;2&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-embassy" tabindex="-1"><a class="header-anchor" href="#_4-embassy"><span>4. embassy</span></a></h2><h3 id="ç‰¹ç‚¹-3" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹-3"><span>ç‰¹ç‚¹</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// embassy - åµŒå…¥å¼</span></span>
<span class="line"><span class="token attribute attr-name">#[embassy_executor::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span>spawner<span class="token punctuation">:</span> <span class="token class-name">Spawner</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// åµŒå…¥å¼å¼‚æ­¥ä»£ç </span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜åŠ¿</strong>ï¼š</p><ul><li>âœ… ä¸“ä¸ºåµŒå…¥å¼è®¾è®¡</li><li>âœ… æ— éœ€æ“ä½œç³»ç»Ÿ</li><li>âœ… æä½çš„å†…å­˜å ç”¨</li><li>âœ… å®æ—¶æ€§å¥½</li></ul><p><strong>åŠ£åŠ¿</strong>ï¼š</p><ul><li>âŒ åªé€‚ç”¨äºåµŒå…¥å¼</li><li>âŒ å­¦ä¹ æ›²çº¿é™¡å³­</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>åµŒå…¥å¼ç³»ç»Ÿ</li><li>IoT è®¾å¤‡</li><li>å¾®æ§åˆ¶å™¨</li></ul><h2 id="è¯¦ç»†å¯¹æ¯”è¡¨" tabindex="-1"><a class="header-anchor" href="#è¯¦ç»†å¯¹æ¯”è¡¨"><span>è¯¦ç»†å¯¹æ¯”è¡¨</span></a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>Tokio</th><th>async-std</th><th>smol</th><th>embassy</th></tr></thead><tbody><tr><td><strong>ç”Ÿæ€ç³»ç»Ÿ</strong></td><td>â­â­â­â­â­</td><td>â­â­â­</td><td>â­â­</td><td>â­â­</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>â­â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­â­â­â­</td></tr><tr><td><strong>æ˜“ç”¨æ€§</strong></td><td>â­â­â­â­</td><td>â­â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­</td></tr><tr><td><strong>æ–‡æ¡£</strong></td><td>â­â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­â­</td><td>â­â­â­</td></tr><tr><td><strong>ç¼–è¯‘é€Ÿåº¦</strong></td><td>â­â­â­</td><td>â­â­â­â­</td><td>â­â­â­â­â­</td><td>â­â­â­</td></tr><tr><td><strong>ä»£ç ä½“ç§¯</strong></td><td>å¤§</td><td>ä¸­</td><td>å°</td><td>æå°</td></tr><tr><td><strong>é€‚ç”¨å¹³å°</strong></td><td>æœåŠ¡å™¨</td><td>é€šç”¨</td><td>é€šç”¨</td><td>åµŒå…¥å¼</td></tr><tr><td><strong>ç»´æŠ¤çŠ¶æ€</strong></td><td>æ´»è·ƒ</td><td>ä¸€èˆ¬</td><td>æ´»è·ƒ</td><td>æ´»è·ƒ</td></tr></tbody></table><h2 id="æ€§èƒ½æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½æµ‹è¯•"><span>æ€§èƒ½æµ‹è¯•</span></a></h2><h3 id="ååé‡å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ååé‡å¯¹æ¯”"><span>ååé‡å¯¹æ¯”</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// æµ‹è¯•åœºæ™¯ï¼šå¤„ç† 10ä¸‡ä¸ªå¹¶å‘è¯·æ±‚</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token comment">// ååé‡: ~500,000 req/s</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">tokio_benchmark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// async-std</span></span>
<span class="line"><span class="token comment">// ååé‡: ~450,000 req/s</span></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">async_std_benchmark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// smol</span></span>
<span class="line"><span class="token comment">// ååé‡: ~480,000 req/s</span></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">smol_benchmark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å†…å­˜ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å†…å­˜ä½¿ç”¨"><span>å†…å­˜ä½¿ç”¨</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Tokio:      ~2.5 MB</span>
<span class="line">async-std:  ~2.0 MB</span>
<span class="line">smol:       ~1.5 MB</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¼–è¯‘æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘æ—¶é—´"><span>ç¼–è¯‘æ—¶é—´</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Tokio:      ~45s (é¦–æ¬¡ç¼–è¯‘)</span>
<span class="line">async-std:  ~30s</span>
<span class="line">smol:       ~15s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”"><span>ç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”</span></a></h2><h3 id="web-æ¡†æ¶æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#web-æ¡†æ¶æ”¯æŒ"><span>Web æ¡†æ¶æ”¯æŒ</span></a></h3><table><thead><tr><th>æ¡†æ¶</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>axum</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>actix-web</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>warp</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>tide</td><td>âŒ</td><td>âœ…</td><td>âŒ</td></tr><tr><td>poem</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr></tbody></table><h3 id="http-å®¢æˆ·ç«¯" tabindex="-1"><a class="header-anchor" href="#http-å®¢æˆ·ç«¯"><span>HTTP å®¢æˆ·ç«¯</span></a></h3><table><thead><tr><th>åº“</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>reqwest</td><td>âœ…</td><td>âœ…</td><td>âš ï¸</td></tr><tr><td>surf</td><td>âŒ</td><td>âœ…</td><td>âŒ</td></tr><tr><td>hyper</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr></tbody></table><h3 id="æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“"><span>æ•°æ®åº“</span></a></h3><table><thead><tr><th>åº“</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>sqlx</td><td>âœ…</td><td>âœ…</td><td>âš ï¸</td></tr><tr><td>tokio-postgres</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>async-postgres</td><td>âŒ</td><td>âœ…</td><td>âŒ</td></tr></tbody></table><h2 id="é€‰æ‹©æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©æŒ‡å—"><span>é€‰æ‹©æŒ‡å—</span></a></h2><h3 id="é€‰æ‹©-tokio-å¦‚æœ" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©-tokio-å¦‚æœ"><span>é€‰æ‹© Tokio å¦‚æœï¼š</span></a></h3><p>âœ… æ„å»ºç”Ÿäº§åº”ç”¨<br> âœ… éœ€è¦ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ<br> âœ… æ€§èƒ½æ˜¯å…³é”®<br> âœ… ä½¿ç”¨æµè¡Œçš„ Web æ¡†æ¶<br> âœ… å›¢é˜Ÿç†Ÿæ‚‰ Tokio</p><h3 id="é€‰æ‹©-async-std-å¦‚æœ" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©-async-std-å¦‚æœ"><span>é€‰æ‹© async-std å¦‚æœï¼š</span></a></h3><p>âœ… å­¦ä¹ å¼‚æ­¥ç¼–ç¨‹<br> âœ… å–œæ¬¢æ ‡å‡†åº“é£æ ¼ API<br> âœ… ä¸­å°å‹é¡¹ç›®<br> âœ… éœ€è¦å¿«é€ŸåŸå‹<br> âœ… ç®€å•æ€§ä¼˜å…ˆ</p><h3 id="é€‰æ‹©-smol-å¦‚æœ" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©-smol-å¦‚æœ"><span>é€‰æ‹© smol å¦‚æœï¼š</span></a></h3><p>âœ… éœ€è¦å°çš„äºŒè¿›åˆ¶å¤§å°<br> âœ… å¿«é€Ÿç¼–è¯‘é‡è¦<br> âœ… CLI å·¥å…·<br> âœ… åµŒå…¥åˆ°å…¶ä»–åº”ç”¨<br> âœ… çµæ´»æ€§éœ€æ±‚</p><h3 id="é€‰æ‹©-embassy-å¦‚æœ" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©-embassy-å¦‚æœ"><span>é€‰æ‹© embassy å¦‚æœï¼š</span></a></h3><p>âœ… åµŒå…¥å¼å¼€å‘<br> âœ… æ— æ“ä½œç³»ç»Ÿç¯å¢ƒ<br> âœ… IoT è®¾å¤‡<br> âœ… å¾®æ§åˆ¶å™¨</p><h2 id="è¿ç§»æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#è¿ç§»æŒ‡å—"><span>è¿ç§»æŒ‡å—</span></a></h2><h3 id="ä»-async-std-è¿ç§»åˆ°-tokio" tabindex="-1"><a class="header-anchor" href="#ä»-async-std-è¿ç§»åˆ°-tokio"><span>ä» async-std è¿ç§»åˆ° Tokio</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// async-std</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span></span>task<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span>net<span class="token punctuation">::</span></span><span class="token class-name">TcpListener</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> listener <span class="token operator">=</span> <span class="token class-name">TcpListener</span><span class="token punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span>task<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span>net<span class="token punctuation">::</span></span><span class="token class-name">TcpListener</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> listener <span class="token operator">=</span> <span class="token class-name">TcpListener</span><span class="token punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸»è¦æ”¹åŠ¨ï¼š</p><ol><li>æ›´æ¢ä¾èµ–</li><li>æ›¿æ¢ <code>use</code> è¯­å¥</li><li>ä¿®æ”¹å®ï¼ˆ<code>#[async_std::main]</code> â†’ <code>#[tokio::main]</code>ï¼‰</li></ol><h3 id="ä»-tokio-è¿ç§»åˆ°-smol" tabindex="-1"><a class="header-anchor" href="#ä»-tokio-è¿ç§»åˆ°-smol"><span>ä» Tokio è¿ç§»åˆ° smol</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;ä»»åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// smol</span></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;ä»»åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…¼å®¹æ€§" tabindex="-1"><a class="header-anchor" href="#å…¼å®¹æ€§"><span>å…¼å®¹æ€§</span></a></h2><h3 id="futures-crate" tabindex="-1"><a class="header-anchor" href="#futures-crate"><span>futures crate</span></a></h3><p>æ‰€æœ‰è¿è¡Œæ—¶éƒ½å…¼å®¹ <code>futures</code> crateï¼š</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token namespace">futures<span class="token punctuation">::</span>future<span class="token punctuation">::</span></span>join_all<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¯ä»¥åœ¨ä»»ä½•è¿è¡Œæ—¶ä½¿ç”¨</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> futures <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span></span>
<span class="line">        <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">let</span> results <span class="token operator">=</span> <span class="token function">join_all</span><span class="token punctuation">(</span>futures<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{:?}&quot;</span><span class="token punctuation">,</span> results<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿è¡Œæ—¶æ— å…³çš„ä»£ç " tabindex="-1"><a class="header-anchor" href="#è¿è¡Œæ—¶æ— å…³çš„ä»£ç "><span>è¿è¡Œæ—¶æ— å…³çš„ä»£ç </span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// ç¼–å†™è¿è¡Œæ—¶æ— å…³çš„å¼‚æ­¥ä»£ç </span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">generic_async_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ä½¿ç”¨æ ‡å‡† Future å’Œ Stream</span></span>
<span class="line">    <span class="token comment">// ä¸ä¾èµ–ç‰¹å®šè¿è¡Œæ—¶</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¯ä»¥åœ¨ä»»ä½•è¿è¡Œæ—¶ä½¿ç”¨</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">with_tokio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">generic_async_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">with_async_std</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">generic_async_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ··åˆä½¿ç”¨-ä¸æ¨è" tabindex="-1"><a class="header-anchor" href="#æ··åˆä½¿ç”¨-ä¸æ¨è"><span>æ··åˆä½¿ç”¨ï¼ˆä¸æ¨èï¼‰</span></a></h2><p>è™½ç„¶æŠ€æœ¯ä¸Šå¯è¡Œï¼Œä½†ä¸æ¨èåœ¨åŒä¸€é¡¹ç›®ä¸­æ··ç”¨è¿è¡Œæ—¶ï¼š</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// âŒ ä¸æ¨è</span></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Tokio runtime</span></span>
<span class="line">    <span class="token keyword">let</span> tokio_rt <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span>runtime<span class="token punctuation">::</span></span><span class="token class-name">Runtime</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// async-std runtime</span></span>
<span class="line">    <span class="token namespace">async_std<span class="token punctuation">::</span>task<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// å¯èƒ½å¯¼è‡´é—®é¢˜</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¤¾åŒºå’Œæ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#ç¤¾åŒºå’Œæ”¯æŒ"><span>ç¤¾åŒºå’Œæ”¯æŒ</span></a></h2><h3 id="github-stars-2024" tabindex="-1"><a class="header-anchor" href="#github-stars-2024"><span>GitHub Starsï¼ˆ2024ï¼‰</span></a></h3><ul><li>Tokio: ~20k+ â­</li><li>async-std: ~3.5k+ â­</li><li>smol: ~1.5k+ â­</li><li>embassy: ~3k+ â­</li></ul><h3 id="ä¼ä¸šä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¼ä¸šä½¿ç”¨"><span>ä¼ä¸šä½¿ç”¨</span></a></h3><p><strong>Tokio</strong>:</p><ul><li>Discord</li><li>Amazon</li><li>Microsoft</li><li>Cloudflare</li></ul><p><strong>async-std</strong>:</p><ul><li>Surf</li><li>ä¸­å°å‹é¡¹ç›®</li></ul><p><strong>smol</strong>:</p><ul><li>ç‹¬ç«‹å¼€å‘è€…</li><li>CLI å·¥å…·</li></ul><h2 id="å†³ç­–æ ‘" tabindex="-1"><a class="header-anchor" href="#å†³ç­–æ ‘"><span>å†³ç­–æ ‘</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">éœ€è¦å¼‚æ­¥è¿è¡Œæ—¶ï¼Ÿ</span>
<span class="line">â”‚</span>
<span class="line">â”œâ”€ åµŒå…¥å¼? â†’ embassy</span>
<span class="line">â”‚</span>
<span class="line">â”œâ”€ å¿«é€Ÿç¼–è¯‘/å°ä½“ç§¯? â†’ smol</span>
<span class="line">â”‚</span>
<span class="line">â”œâ”€ å­¦ä¹ /ç®€å•é¡¹ç›®? â†’ async-std</span>
<span class="line">â”‚</span>
<span class="line">â””â”€ ç”Ÿäº§åº”ç”¨/æ€§èƒ½/ç”Ÿæ€? â†’ Tokio âœ…</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h2><p><strong>æ¨èä¼˜å…ˆé€‰æ‹© Tokio</strong>ï¼Œå› ä¸ºï¼š</p><ol><li>ğŸ† <strong>ç”Ÿæ€æœ€å¥½</strong>ï¼šå‡ ä¹æ‰€æœ‰å¼‚æ­¥åº“éƒ½æ”¯æŒ</li><li>ğŸš€ <strong>æ€§èƒ½æœ€ä¼˜</strong>ï¼šç»è¿‡å¤§è§„æ¨¡éªŒè¯</li><li>ğŸ“š <strong>æ–‡æ¡£å®Œå–„</strong>ï¼šå­¦ä¹ èµ„æºä¸°å¯Œ</li><li>ğŸ¢ <strong>ç”Ÿäº§å°±ç»ª</strong>ï¼šè¢«å¤§é‡ä¼ä¸šä½¿ç”¨</li><li>ğŸ”§ <strong>åŠŸèƒ½å…¨é¢</strong>ï¼šæ»¡è¶³å„ç§éœ€æ±‚</li></ol><p><strong>å…¶ä»–è¿è¡Œæ—¶çš„ä»·å€¼</strong>ï¼š</p><ul><li><strong>async-std</strong>ï¼šå­¦ä¹  + ç®€å•é¡¹ç›®</li><li><strong>smol</strong>ï¼šå¿«é€Ÿç¼–è¯‘ + CLI å·¥å…·</li><li><strong>embassy</strong>ï¼šåµŒå…¥å¼å¼€å‘</li></ul><p>å¯¹äºå¤§å¤šæ•°åº”ç”¨å¼€å‘ï¼Œ<strong>Tokio æ˜¯æœ€ä½³é€‰æ‹©</strong>ï¼ğŸ¦€âš¡</p>`,108)])])}const o=s(p,[["render",l]]),u=JSON.parse('{"path":"/rust_p/08_async/04_tokio_vs_others.html","title":"Tokio vs å…¶ä»–å¼‚æ­¥è¿è¡Œæ—¶","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Rust å¼‚æ­¥è¿è¡Œæ—¶å¯¹æ¯”","slug":"rust-å¼‚æ­¥è¿è¡Œæ—¶å¯¹æ¯”","link":"#rust-å¼‚æ­¥è¿è¡Œæ—¶å¯¹æ¯”","children":[{"level":3,"title":"ä¸»è¦è¿è¡Œæ—¶","slug":"ä¸»è¦è¿è¡Œæ—¶","link":"#ä¸»è¦è¿è¡Œæ—¶","children":[]}]},{"level":2,"title":"1. Tokio","slug":"_1-tokio","link":"#_1-tokio","children":[{"level":3,"title":"ç‰¹ç‚¹","slug":"ç‰¹ç‚¹","link":"#ç‰¹ç‚¹","children":[]}]},{"level":2,"title":"2. async-std","slug":"_2-async-std","link":"#_2-async-std","children":[{"level":3,"title":"ç‰¹ç‚¹","slug":"ç‰¹ç‚¹-1","link":"#ç‰¹ç‚¹-1","children":[]},{"level":3,"title":"API å¯¹æ¯”","slug":"api-å¯¹æ¯”","link":"#api-å¯¹æ¯”","children":[]}]},{"level":2,"title":"3. smol","slug":"_3-smol","link":"#_3-smol","children":[{"level":3,"title":"ç‰¹ç‚¹","slug":"ç‰¹ç‚¹-2","link":"#ç‰¹ç‚¹-2","children":[]}]},{"level":2,"title":"4. embassy","slug":"_4-embassy","link":"#_4-embassy","children":[{"level":3,"title":"ç‰¹ç‚¹","slug":"ç‰¹ç‚¹-3","link":"#ç‰¹ç‚¹-3","children":[]}]},{"level":2,"title":"è¯¦ç»†å¯¹æ¯”è¡¨","slug":"è¯¦ç»†å¯¹æ¯”è¡¨","link":"#è¯¦ç»†å¯¹æ¯”è¡¨","children":[]},{"level":2,"title":"æ€§èƒ½æµ‹è¯•","slug":"æ€§èƒ½æµ‹è¯•","link":"#æ€§èƒ½æµ‹è¯•","children":[{"level":3,"title":"ååé‡å¯¹æ¯”","slug":"ååé‡å¯¹æ¯”","link":"#ååé‡å¯¹æ¯”","children":[]},{"level":3,"title":"å†…å­˜ä½¿ç”¨","slug":"å†…å­˜ä½¿ç”¨","link":"#å†…å­˜ä½¿ç”¨","children":[]},{"level":3,"title":"ç¼–è¯‘æ—¶é—´","slug":"ç¼–è¯‘æ—¶é—´","link":"#ç¼–è¯‘æ—¶é—´","children":[]}]},{"level":2,"title":"ç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”","slug":"ç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”","link":"#ç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”","children":[{"level":3,"title":"Web æ¡†æ¶æ”¯æŒ","slug":"web-æ¡†æ¶æ”¯æŒ","link":"#web-æ¡†æ¶æ”¯æŒ","children":[]},{"level":3,"title":"HTTP å®¢æˆ·ç«¯","slug":"http-å®¢æˆ·ç«¯","link":"#http-å®¢æˆ·ç«¯","children":[]},{"level":3,"title":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"#æ•°æ®åº“","children":[]}]},{"level":2,"title":"é€‰æ‹©æŒ‡å—","slug":"é€‰æ‹©æŒ‡å—","link":"#é€‰æ‹©æŒ‡å—","children":[{"level":3,"title":"é€‰æ‹© Tokio å¦‚æœï¼š","slug":"é€‰æ‹©-tokio-å¦‚æœ","link":"#é€‰æ‹©-tokio-å¦‚æœ","children":[]},{"level":3,"title":"é€‰æ‹© async-std å¦‚æœï¼š","slug":"é€‰æ‹©-async-std-å¦‚æœ","link":"#é€‰æ‹©-async-std-å¦‚æœ","children":[]},{"level":3,"title":"é€‰æ‹© smol å¦‚æœï¼š","slug":"é€‰æ‹©-smol-å¦‚æœ","link":"#é€‰æ‹©-smol-å¦‚æœ","children":[]},{"level":3,"title":"é€‰æ‹© embassy å¦‚æœï¼š","slug":"é€‰æ‹©-embassy-å¦‚æœ","link":"#é€‰æ‹©-embassy-å¦‚æœ","children":[]}]},{"level":2,"title":"è¿ç§»æŒ‡å—","slug":"è¿ç§»æŒ‡å—","link":"#è¿ç§»æŒ‡å—","children":[{"level":3,"title":"ä» async-std è¿ç§»åˆ° Tokio","slug":"ä»-async-std-è¿ç§»åˆ°-tokio","link":"#ä»-async-std-è¿ç§»åˆ°-tokio","children":[]},{"level":3,"title":"ä» Tokio è¿ç§»åˆ° smol","slug":"ä»-tokio-è¿ç§»åˆ°-smol","link":"#ä»-tokio-è¿ç§»åˆ°-smol","children":[]}]},{"level":2,"title":"å…¼å®¹æ€§","slug":"å…¼å®¹æ€§","link":"#å…¼å®¹æ€§","children":[{"level":3,"title":"futures crate","slug":"futures-crate","link":"#futures-crate","children":[]},{"level":3,"title":"è¿è¡Œæ—¶æ— å…³çš„ä»£ç ","slug":"è¿è¡Œæ—¶æ— å…³çš„ä»£ç ","link":"#è¿è¡Œæ—¶æ— å…³çš„ä»£ç ","children":[]}]},{"level":2,"title":"æ··åˆä½¿ç”¨ï¼ˆä¸æ¨èï¼‰","slug":"æ··åˆä½¿ç”¨-ä¸æ¨è","link":"#æ··åˆä½¿ç”¨-ä¸æ¨è","children":[]},{"level":2,"title":"ç¤¾åŒºå’Œæ”¯æŒ","slug":"ç¤¾åŒºå’Œæ”¯æŒ","link":"#ç¤¾åŒºå’Œæ”¯æŒ","children":[{"level":3,"title":"GitHub Starsï¼ˆ2024ï¼‰","slug":"github-stars-2024","link":"#github-stars-2024","children":[]},{"level":3,"title":"ä¼ä¸šä½¿ç”¨","slug":"ä¼ä¸šä½¿ç”¨","link":"#ä¼ä¸šä½¿ç”¨","children":[]}]},{"level":2,"title":"å†³ç­–æ ‘","slug":"å†³ç­–æ ‘","link":"#å†³ç­–æ ‘","children":[]},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","link":"#æ€»ç»“","children":[]}],"git":{"updatedTime":1761491612000,"contributors":[{"name":"uponup","username":"uponup","email":"1030360567@qq.com","commits":1,"url":"https://github.com/uponup"}],"changelog":[{"hash":"5456040ee4b483f78ba6a68a1887ff67ab3316c6","time":1761491612000,"email":"1030360567@qq.com","author":"uponup","message":"fix rust"}]},"filePathRelative":"rust_p/08_async/04_tokio_vs_others.md"}');export{o as comp,u as data};
