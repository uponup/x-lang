<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Tokio 异步编程完整教程 | X-Lang</title><meta name="description" content="X-Lang: Code Smarter, in Every Language.">
    <link rel="preload" href="/x-lang/assets/style-B3-VMakp.css" as="style"><link rel="stylesheet" href="/x-lang/assets/style-B3-VMakp.css">
    <link rel="modulepreload" href="/x-lang/assets/app-WzcM213c.js"><link rel="modulepreload" href="/x-lang/assets/index.html-DYIGJVtN.js">
    <link rel="prefetch" href="/x-lang/assets/index.html-B2siAs7W.js" as="script"><link rel="prefetch" href="/x-lang/assets/index.html-Ct6QxUzD.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_environment.html-D1fL_jqt.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_variables_types.html-BmiEJ1Bj.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_control_flow.html-A8hUj0Pt.js" as="script"><link rel="prefetch" href="/x-lang/assets/04_functions.html-f8I0OP4v.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_ownership.html-CRoCEPqb.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_borrowing.html-B7xp1ev4.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_structs_enums.html-LdID-277.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_collections.html-Ds1byo85.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_error_handling.html-BEqF59Lp.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_modules_packages.html-C1p_7CJQ.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_std_library_guide.html-ChLXr3fo.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_calculator.html-CGJdt9pH.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_file_processor.html-DiMiS9mp.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_web_server.html-8mUg2UM6.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_1过程宏.html-tTmy0kCp.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_2派生宏.html-D1_ZdORP.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_声明宏.html-BBmhDVIo.js" as="script"><link rel="prefetch" href="/x-lang/assets/Attribute语法.html-jaTtHbhv.js" as="script"><link rel="prefetch" href="/x-lang/assets/OnceLock和OnceCell.html-xnx4uSV4.js" as="script"><link rel="prefetch" href="/x-lang/assets/mod_rs和lib_rs的区别.html-CBHSW1uF.js" as="script"><link rel="prefetch" href="/x-lang/assets/可见性修饰符对比.html-BRXY5TwU.js" as="script"><link rel="prefetch" href="/x-lang/assets/模块系统详解.html-DY6bo69Q.js" as="script"><link rel="prefetch" href="/x-lang/assets/uniffi__export.html-BFkgJZVD.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_tokio_intro.html-DZi8tRvm.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_async_basics.html-WBHDavJh.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_tokio_runtime.html-BYsm7zlR.js" as="script"><link rel="prefetch" href="/x-lang/assets/04_tokio_vs_others.html-bhI0LqRA.js" as="script"><link rel="prefetch" href="/x-lang/assets/05_projects.html-DL-x2NmQ.js" as="script"><link rel="prefetch" href="/x-lang/assets/index.html-DfalU3op.js" as="script"><link rel="prefetch" href="/x-lang/assets/basic_exercises.html-ChnlXsbq.js" as="script"><link rel="prefetch" href="/x-lang/assets/404.html-Wz41JpZm.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/x-lang/"><img class="vp-site-logo" src="/x-lang/images/logo.png" alt="X-Lang"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">X-Lang</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/x-lang/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/x-lang/rust_p/" aria-label="Rust 语言入门教程"><!--[--><!--[--><!--]--><!--]-->Rust 语言入门教程<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/x-lang/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/x-lang/rust_p/" aria-label="Rust 语言入门教程"><!--[--><!--[--><!--]--><!--]-->Rust 语言入门教程<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Tokio 异步编程完整教程 <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="tokio-异步编程完整教程" tabindex="-1"><a class="header-anchor" href="#tokio-异步编程完整教程"><span>Tokio 异步编程完整教程</span></a></h1><h2 id="欢迎来到-tokio-异步编程世界-🚀" tabindex="-1"><a class="header-anchor" href="#欢迎来到-tokio-异步编程世界-🚀"><span>欢迎来到 Tokio 异步编程世界！🚀</span></a></h2><p>这是一套从零到精通的 Tokio 异步编程教程，涵盖了从基础概念到实战项目的完整内容。</p><h2 id="📚-学习路径" tabindex="-1"><a class="header-anchor" href="#📚-学习路径"><span>📚 学习路径</span></a></h2><h3 id="🌱-第一步-理解-tokio" tabindex="-1"><a class="header-anchor" href="#🌱-第一步-理解-tokio"><span>🌱 第一步：理解 Tokio</span></a></h3><p><strong><a class="route-link" href="/x-lang/rust_p/08_async/01_tokio_intro.html">01_tokio_intro.md</a></strong> - Tokio 入门</p><ul><li>什么是 Tokio？</li><li>为什么需要异步编程？</li><li>Tokio 的核心组件</li><li>安装和配置</li><li>何时使用 Tokio</li></ul><p><strong>关键要点</strong>：</p><ul><li>异步 vs 同步的区别</li><li>Tokio 的优势</li><li>适用场景判断</li></ul><hr><h3 id="📖-第二步-掌握-async-await" tabindex="-1"><a class="header-anchor" href="#📖-第二步-掌握-async-await"><span>📖 第二步：掌握 async/await</span></a></h3><p><strong><a class="route-link" href="/x-lang/rust_p/08_async/02_async_basics.html">02_async_basics.md</a></strong> - 异步编程基础</p><ul><li>async 和 await 关键字</li><li>Future 是什么</li><li>并发执行</li><li>错误处理</li><li>生命周期</li></ul><p><strong>关键要点</strong>：</p><ul><li><code>async fn</code> 创建 Future</li><li><code>.await</code> 等待 Future</li><li>并发 vs 顺序执行</li><li>使用 <code>join!</code> 和 <code>select!</code></li></ul><p><strong>实践练习</strong>：</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> task1 <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token string">&quot;任务1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> task2 <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token string">&quot;任务2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">let</span> <span class="token punctuation">(</span>r1<span class="token punctuation">,</span> r2<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token macro property">join!</span><span class="token punctuation">(</span>task1<span class="token punctuation">,</span> task2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{:?}, {:?}&quot;</span><span class="token punctuation">,</span> r1<span class="token punctuation">,</span> r2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="⚙️-第三步-深入-runtime" tabindex="-1"><a class="header-anchor" href="#⚙️-第三步-深入-runtime"><span>⚙️ 第三步：深入 Runtime</span></a></h3><p><strong><a class="route-link" href="/x-lang/rust_p/08_async/03_tokio_runtime.html">03_tokio_runtime.md</a></strong> - Tokio Runtime 详解</p><ul><li>Runtime 类型（单线程 vs 多线程）</li><li>创建和配置 Runtime</li><li>任务调度</li><li>性能调优</li><li>生命周期管理</li></ul><p><strong>关键要点</strong>：</p><ul><li>选择合适的 Runtime</li><li>使用 <code>spawn_blocking</code> 处理阻塞操作</li><li>配置工作线程数</li><li>优雅关闭</li></ul><p><strong>配置示例</strong>：</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span>runtime<span class="token punctuation">::</span></span><span class="token class-name">Builder</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> rt <span class="token operator">=</span> <span class="token class-name">Builder</span><span class="token punctuation">::</span><span class="token function">new_multi_thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">worker_threads</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">enable_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="🔄-第四步-了解生态" tabindex="-1"><a class="header-anchor" href="#🔄-第四步-了解生态"><span>🔄 第四步：了解生态</span></a></h3><p><strong><a class="route-link" href="/x-lang/rust_p/08_async/04_tokio_vs_others.html">04_tokio_vs_others.md</a></strong> - Tokio vs 其他运行时</p><ul><li>Tokio vs async-std vs smol</li><li>性能对比</li><li>生态系统对比</li><li>选择指南</li><li>迁移指南</li></ul><p><strong>关键要点</strong>：</p><ul><li>Tokio 是生产环境首选</li><li>async-std 适合学习</li><li>smol 适合快速编译</li><li>根据需求选择</li></ul><p><strong>对比表</strong>：</p><table><thead><tr><th>特性</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>生态</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐</td><td>⭐⭐</td></tr><tr><td>性能</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td></tr><tr><td>易用</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td></tr></tbody></table><hr><h3 id="🛠️-第五步-实战项目" tabindex="-1"><a class="header-anchor" href="#🛠️-第五步-实战项目"><span>🛠️ 第五步：实战项目</span></a></h3><p><strong><a class="route-link" href="/x-lang/rust_p/08_async/05_projects.html">05_projects.md</a></strong> - 实战项目</p><p><strong>6 个完整项目</strong>：</p><ol><li>异步 HTTP 服务器（Axum）</li><li>并发文件处理器</li><li>WebSocket 聊天服务器</li><li>数据库连接池</li><li>定时任务调度器</li><li>API 请求聚合器</li></ol><p><strong>每个项目包含</strong>：</p><ul><li>✅ 完整可运行的代码</li><li>✅ 依赖配置</li><li>✅ 测试方法</li><li>✅ 最佳实践</li></ul><hr><h2 id="🎯-学习目标" tabindex="-1"><a class="header-anchor" href="#🎯-学习目标"><span>🎯 学习目标</span></a></h2><p>完成这套教程后，你将能够：</p><ul><li>✅ 理解异步编程的核心概念</li><li>✅ 熟练使用 async/await 语法</li><li>✅ 配置和优化 Tokio Runtime</li><li>✅ 构建高性能的异步应用</li><li>✅ 选择合适的异步运行时</li><li>✅ 应用最佳实践</li><li>✅ 独立完成实战项目</li></ul><hr><h2 id="📅-建议学习计划" tabindex="-1"><a class="header-anchor" href="#📅-建议学习计划"><span>📅 建议学习计划</span></a></h2><h3 id="第-1-天-基础入门-2-3-小时" tabindex="-1"><a class="header-anchor" href="#第-1-天-基础入门-2-3-小时"><span>第 1 天：基础入门（2-3 小时）</span></a></h3><ul><li>阅读 Tokio 入门</li><li>理解异步编程基础</li><li>完成简单的 async/await 练习</li></ul><h3 id="第-2-天-深入理解-3-4-小时" tabindex="-1"><a class="header-anchor" href="#第-2-天-深入理解-3-4-小时"><span>第 2 天：深入理解（3-4 小时）</span></a></h3><ul><li>学习 Runtime 概念</li><li>实践并发任务管理</li><li>了解其他运行时对比</li></ul><h3 id="第-3-天-实战练习-4-5-小时" tabindex="-1"><a class="header-anchor" href="#第-3-天-实战练习-4-5-小时"><span>第 3 天：实战练习（4-5 小时）</span></a></h3><ul><li>完成项目 1-3</li><li>理解 Web 服务器构建</li><li>掌握实时通信</li></ul><h3 id="第-4-天-进阶应用-4-5-小时" tabindex="-1"><a class="header-anchor" href="#第-4-天-进阶应用-4-5-小时"><span>第 4 天：进阶应用（4-5 小时）</span></a></h3><ul><li>完成项目 4-6</li><li>学习数据库集成</li><li>掌握任务调度</li></ul><hr><h2 id="🔧-环境准备" tabindex="-1"><a class="header-anchor" href="#🔧-环境准备"><span>🔧 环境准备</span></a></h2><h3 id="_1-安装-rust" tabindex="-1"><a class="header-anchor" href="#_1-安装-rust"><span>1. 安装 Rust</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">--proto</span> <span class="token string">&#39;=https&#39;</span> <span class="token parameter variable">--tlsv1.2</span> <span class="token parameter variable">-sSf</span> https://sh.rustup.rs <span class="token operator">|</span> <span class="token function">sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-创建项目" tabindex="-1"><a class="header-anchor" href="#_2-创建项目"><span>2. 创建项目</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">cargo</span> new tokio-demo</span>
<span class="line"><span class="token builtin class-name">cd</span> tokio-demo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-添加依赖" tabindex="-1"><a class="header-anchor" href="#_3-添加依赖"><span>3. 添加依赖</span></a></h3><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">tokio</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;full&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-第一个程序" tabindex="-1"><a class="header-anchor" href="#_4-第一个程序"><span>4. 第一个程序</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Tokio!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="🚀-快速开始" tabindex="-1"><a class="header-anchor" href="#🚀-快速开始"><span>🚀 快速开始</span></a></h2><h3 id="最简示例" tabindex="-1"><a class="header-anchor" href="#最简示例"><span>最简示例</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span>time<span class="token punctuation">::</span></span><span class="token punctuation">{</span>sleep<span class="token punctuation">,</span> <span class="token class-name">Duration</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;开始&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_secs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;1 秒后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="并发示例" tabindex="-1"><a class="header-anchor" href="#并发示例"><span>并发示例</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> task1 <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;任务 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">let</span> task2 <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;任务 2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    task1<span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    task2<span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="http-服务器示例" tabindex="-1"><a class="header-anchor" href="#http-服务器示例"><span>HTTP 服务器示例</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token namespace">axum<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token namespace">routing<span class="token punctuation">::</span></span>get<span class="token punctuation">,</span> <span class="token class-name">Router</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token string">&quot;Hello!&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">let</span> listener <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span>net<span class="token punctuation">::</span></span><span class="token class-name">TcpListener</span><span class="token punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1:3000&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token keyword">await</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token namespace">axum<span class="token punctuation">::</span></span><span class="token function">serve</span><span class="token punctuation">(</span>listener<span class="token punctuation">,</span> app<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="📖-补充资源" tabindex="-1"><a class="header-anchor" href="#📖-补充资源"><span>📖 补充资源</span></a></h2><h3 id="官方文档" tabindex="-1"><a class="header-anchor" href="#官方文档"><span>官方文档</span></a></h3><ul><li><a href="https://tokio.rs/" target="_blank" rel="noopener noreferrer">Tokio 官方网站</a></li><li><a href="https://tokio.rs/tokio/tutorial" target="_blank" rel="noopener noreferrer">Tokio 教程</a></li><li><a href="https://docs.rs/tokio/" target="_blank" rel="noopener noreferrer">API 文档</a></li></ul><h3 id="社区资源" tabindex="-1"><a class="header-anchor" href="#社区资源"><span>社区资源</span></a></h3><ul><li><a href="https://discord.gg/tokio" target="_blank" rel="noopener noreferrer">Tokio Discord</a></li><li><a href="https://rust-lang.github.io/async-book/" target="_blank" rel="noopener noreferrer">Rust 异步编程书</a></li><li><a href="https://github.com/tokio-rs/tokio" target="_blank" rel="noopener noreferrer">Tokio GitHub</a></li></ul><h3 id="相关库" tabindex="-1"><a class="header-anchor" href="#相关库"><span>相关库</span></a></h3><ul><li><a href="https://github.com/tokio-rs/axum" target="_blank" rel="noopener noreferrer">Axum</a> - Web 框架</li><li><a href="https://github.com/hyperium/tonic" target="_blank" rel="noopener noreferrer">Tonic</a> - gRPC</li><li><a href="https://github.com/seanmonstar/reqwest" target="_blank" rel="noopener noreferrer">reqwest</a> - HTTP 客户端</li><li><a href="https://github.com/launchbadge/sqlx" target="_blank" rel="noopener noreferrer">sqlx</a> - 异步 SQL</li></ul><hr><h2 id="💡-学习技巧" tabindex="-1"><a class="header-anchor" href="#💡-学习技巧"><span>💡 学习技巧</span></a></h2><ol><li><strong>动手实践</strong>：不要只看代码，一定要运行</li><li><strong>循序渐进</strong>：按顺序学习，不要跳跃</li><li><strong>对比理解</strong>：同步 vs 异步的区别</li><li><strong>调试技巧</strong>：使用 <code>println!</code> 和 <code>dbg!</code> 调试</li><li><strong>阅读文档</strong>：遇到问题查官方文档</li><li><strong>实战项目</strong>：完成所有示例项目</li></ol><hr><h2 id="❓-常见问题" tabindex="-1"><a class="header-anchor" href="#❓-常见问题"><span>❓ 常见问题</span></a></h2><h3 id="q1-什么时候用异步" tabindex="-1"><a class="header-anchor" href="#q1-什么时候用异步"><span>Q1: 什么时候用异步？</span></a></h3><p><strong>A</strong>: I/O 密集型任务（网络、文件、数据库）</p><h3 id="q2-异步一定比同步快吗" tabindex="-1"><a class="header-anchor" href="#q2-异步一定比同步快吗"><span>Q2: 异步一定比同步快吗？</span></a></h3><p><strong>A</strong>: 不一定。CPU 密集型任务用同步更好。</p><h3 id="q3-如何处理阻塞操作" tabindex="-1"><a class="header-anchor" href="#q3-如何处理阻塞操作"><span>Q3: 如何处理阻塞操作？</span></a></h3><p><strong>A</strong>: 使用 <code>tokio::task::spawn_blocking</code></p><h3 id="q4-如何调试异步代码" tabindex="-1"><a class="header-anchor" href="#q4-如何调试异步代码"><span>Q4: 如何调试异步代码？</span></a></h3><p><strong>A</strong>: 使用 <code>tokio-console</code> 或 <code>tracing</code></p><h3 id="q5-tokio-vs-async-std-选哪个" tabindex="-1"><a class="header-anchor" href="#q5-tokio-vs-async-std-选哪个"><span>Q5: Tokio vs async-std 选哪个？</span></a></h3><p><strong>A</strong>: 生产环境优先选 Tokio</p><hr><h2 id="🎓-评估测试" tabindex="-1"><a class="header-anchor" href="#🎓-评估测试"><span>🎓 评估测试</span></a></h2><p>完成学习后，尝试独立完成：</p><h3 id="初级-掌握基础" tabindex="-1"><a class="header-anchor" href="#初级-掌握基础"><span>初级（掌握基础）</span></a></h3><ul><li>[ ] 创建一个简单的异步程序</li><li>[ ] 使用 <code>async/await</code> 编写函数</li><li>[ ] 并发执行多个任务</li></ul><h3 id="中级-理解原理" tabindex="-1"><a class="header-anchor" href="#中级-理解原理"><span>中级（理解原理）</span></a></h3><ul><li>[ ] 配置自定义 Runtime</li><li>[ ] 实现超时和重试机制</li><li>[ ] 构建简单的 HTTP 服务器</li></ul><h3 id="高级-实战应用" tabindex="-1"><a class="header-anchor" href="#高级-实战应用"><span>高级（实战应用）</span></a></h3><ul><li>[ ] 构建完整的 Web API</li><li>[ ] 实现 WebSocket 通信</li><li>[ ] 集成数据库并处理并发</li></ul><hr><h2 id="🌟-下一步" tabindex="-1"><a class="header-anchor" href="#🌟-下一步"><span>🌟 下一步</span></a></h2><p>完成 Tokio 学习后，可以探索：</p><ul><li><strong>Web 框架</strong>：Axum、Actix-web</li><li><strong>数据库</strong>：sqlx、tokio-postgres</li><li><strong>消息队列</strong>：lapin (RabbitMQ)</li><li><strong>gRPC</strong>：tonic</li><li><strong>监控</strong>：tracing、tokio-console</li></ul><hr><h2 id="📝-反馈和贡献" tabindex="-1"><a class="header-anchor" href="#📝-反馈和贡献"><span>📝 反馈和贡献</span></a></h2><p>如果你发现问题或有改进建议，欢迎：</p><ul><li>提出 Issue</li><li>提交 Pull Request</li><li>分享学习心得</li></ul><hr><p><strong>祝你学习愉快！Happy Coding! 🦀⚡</strong></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-10-26T15:13:32.000Z" data-allow-mismatch>10/26/25, 3:13 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1030360567@qq.com">uponup</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/x-lang/assets/app-WzcM213c.js" defer></script>
  </body>
</html>
