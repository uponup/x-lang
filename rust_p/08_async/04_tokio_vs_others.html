<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Tokio vs 其他异步运行时 | X-Lang</title><meta name="description" content="X-Lang: Code Smarter, in Every Language.">
    <link rel="preload" href="/x-lang/assets/style-B3-VMakp.css" as="style"><link rel="stylesheet" href="/x-lang/assets/style-B3-VMakp.css">
    <link rel="modulepreload" href="/x-lang/assets/app-WzcM213c.js"><link rel="modulepreload" href="/x-lang/assets/04_tokio_vs_others.html-bhI0LqRA.js">
    <link rel="prefetch" href="/x-lang/assets/index.html-B2siAs7W.js" as="script"><link rel="prefetch" href="/x-lang/assets/index.html-Ct6QxUzD.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_environment.html-D1fL_jqt.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_variables_types.html-BmiEJ1Bj.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_control_flow.html-A8hUj0Pt.js" as="script"><link rel="prefetch" href="/x-lang/assets/04_functions.html-f8I0OP4v.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_ownership.html-CRoCEPqb.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_borrowing.html-B7xp1ev4.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_structs_enums.html-LdID-277.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_collections.html-Ds1byo85.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_error_handling.html-BEqF59Lp.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_modules_packages.html-C1p_7CJQ.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_std_library_guide.html-ChLXr3fo.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_calculator.html-CGJdt9pH.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_file_processor.html-DiMiS9mp.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_web_server.html-8mUg2UM6.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_1过程宏.html-tTmy0kCp.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_2派生宏.html-D1_ZdORP.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_声明宏.html-BBmhDVIo.js" as="script"><link rel="prefetch" href="/x-lang/assets/Attribute语法.html-jaTtHbhv.js" as="script"><link rel="prefetch" href="/x-lang/assets/OnceLock和OnceCell.html-xnx4uSV4.js" as="script"><link rel="prefetch" href="/x-lang/assets/mod_rs和lib_rs的区别.html-CBHSW1uF.js" as="script"><link rel="prefetch" href="/x-lang/assets/可见性修饰符对比.html-BRXY5TwU.js" as="script"><link rel="prefetch" href="/x-lang/assets/模块系统详解.html-DY6bo69Q.js" as="script"><link rel="prefetch" href="/x-lang/assets/uniffi__export.html-BFkgJZVD.js" as="script"><link rel="prefetch" href="/x-lang/assets/01_tokio_intro.html-DZi8tRvm.js" as="script"><link rel="prefetch" href="/x-lang/assets/02_async_basics.html-WBHDavJh.js" as="script"><link rel="prefetch" href="/x-lang/assets/03_tokio_runtime.html-BYsm7zlR.js" as="script"><link rel="prefetch" href="/x-lang/assets/05_projects.html-DL-x2NmQ.js" as="script"><link rel="prefetch" href="/x-lang/assets/index.html-DYIGJVtN.js" as="script"><link rel="prefetch" href="/x-lang/assets/index.html-DfalU3op.js" as="script"><link rel="prefetch" href="/x-lang/assets/basic_exercises.html-ChnlXsbq.js" as="script"><link rel="prefetch" href="/x-lang/assets/404.html-Wz41JpZm.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/x-lang/"><img class="vp-site-logo" src="/x-lang/images/logo.png" alt="X-Lang"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">X-Lang</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/x-lang/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/x-lang/rust_p/" aria-label="Rust 语言入门教程"><!--[--><!--[--><!--]--><!--]-->Rust 语言入门教程<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/x-lang/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/x-lang/rust_p/" aria-label="Rust 语言入门教程"><!--[--><!--[--><!--]--><!--]-->Rust 语言入门教程<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Tokio vs 其他异步运行时 <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="tokio-vs-其他异步运行时" tabindex="-1"><a class="header-anchor" href="#tokio-vs-其他异步运行时"><span>Tokio vs 其他异步运行时</span></a></h1><h2 id="rust-异步运行时对比" tabindex="-1"><a class="header-anchor" href="#rust-异步运行时对比"><span>Rust 异步运行时对比</span></a></h2><p>Rust 生态中有多个异步运行时，各有特点。</p><h3 id="主要运行时" tabindex="-1"><a class="header-anchor" href="#主要运行时"><span>主要运行时</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">┌─────────────────────────────────────────┐</span>
<span class="line">│          Rust 异步生态系统              │</span>
<span class="line">├─────────────────────────────────────────┤</span>
<span class="line">│  Tokio        ← 最流行、功能最全        │</span>
<span class="line">│  async-std    ← 标准库风格              │</span>
<span class="line">│  smol         ← 小巧、简单              │</span>
<span class="line">│  embassy      ← 嵌入式                  │</span>
<span class="line">└─────────────────────────────────────────┘</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-tokio" tabindex="-1"><a class="header-anchor" href="#_1-tokio"><span>1. Tokio</span></a></h2><h3 id="特点" tabindex="-1"><a class="header-anchor" href="#特点"><span>特点</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> tokio<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Tokio - 最流行的选择&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>优势</strong>：</p><ul><li>✅ 生态最丰富（大量库支持）</li><li>✅ 性能优秀</li><li>✅ 功能最全（网络、文件、定时器等）</li><li>✅ 文档完善</li><li>✅ 生产验证（被大量公司使用）</li><li>✅ 活跃维护</li></ul><p><strong>劣势</strong>：</p><ul><li>❌ 相对复杂</li><li>❌ 编译时间较长</li><li>❌ 依赖较多</li></ul><p><strong>适用场景</strong>：</p><ul><li>Web 服务器（Axum、Actix-web）</li><li>微服务</li><li>数据库应用</li><li>网络应用</li><li>生产环境</li></ul><p><strong>依赖</strong>：</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">tokio</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;full&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-async-std" tabindex="-1"><a class="header-anchor" href="#_2-async-std"><span>2. async-std</span></a></h2><h3 id="特点-1" tabindex="-1"><a class="header-anchor" href="#特点-1"><span>特点</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> async_std<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;async-std - 标准库风格&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>优势</strong>：</p><ul><li>✅ API 与标准库一致（易学习）</li><li>✅ 简单易用</li><li>✅ 编译快</li><li>✅ 依赖少</li></ul><p><strong>劣势</strong>：</p><ul><li>❌ 生态较小</li><li>❌ 性能略逊于 Tokio</li><li>❌ 维护不如 Tokio 活跃</li></ul><p><strong>适用场景</strong>：</p><ul><li>学习异步编程</li><li>中小型项目</li><li>需要标准库风格 API</li></ul><p><strong>依赖</strong>：</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">async-std</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;attributes&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="api-对比" tabindex="-1"><a class="header-anchor" href="#api-对比"><span>API 对比</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span>fs<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">AsyncReadExt</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> file <span class="token operator">=</span> <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> contents <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> contents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// async-std - 几乎相同的 API</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span></span>fs<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">ReadExt</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> file <span class="token operator">=</span> <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> contents <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> contents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-smol" tabindex="-1"><a class="header-anchor" href="#_3-smol"><span>3. smol</span></a></h2><h3 id="特点-2" tabindex="-1"><a class="header-anchor" href="#特点-2"><span>特点</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> smol<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;smol - 小而美&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>优势</strong>：</p><ul><li>✅ 极小的代码体积</li><li>✅ 非常快的编译速度</li><li>✅ 简单的 API</li><li>✅ 灵活性高</li></ul><p><strong>劣势</strong>：</p><ul><li>❌ 生态较小</li><li>❌ 功能相对基础</li><li>❌ 文档较少</li></ul><p><strong>适用场景</strong>：</p><ul><li>嵌入到其他应用</li><li>CLI 工具</li><li>需要快速编译</li><li>小型项目</li></ul><p><strong>依赖</strong>：</p><div class="language-toml line-numbers-mode" data-highlighter="prismjs" data-ext="toml"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">smol</span> <span class="token punctuation">=</span> <span class="token string">&quot;2&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-embassy" tabindex="-1"><a class="header-anchor" href="#_4-embassy"><span>4. embassy</span></a></h2><h3 id="特点-3" tabindex="-1"><a class="header-anchor" href="#特点-3"><span>特点</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// embassy - 嵌入式</span></span>
<span class="line"><span class="token attribute attr-name">#[embassy_executor::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span>spawner<span class="token punctuation">:</span> <span class="token class-name">Spawner</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 嵌入式异步代码</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>优势</strong>：</p><ul><li>✅ 专为嵌入式设计</li><li>✅ 无需操作系统</li><li>✅ 极低的内存占用</li><li>✅ 实时性好</li></ul><p><strong>劣势</strong>：</p><ul><li>❌ 只适用于嵌入式</li><li>❌ 学习曲线陡峭</li></ul><p><strong>适用场景</strong>：</p><ul><li>嵌入式系统</li><li>IoT 设备</li><li>微控制器</li></ul><h2 id="详细对比表" tabindex="-1"><a class="header-anchor" href="#详细对比表"><span>详细对比表</span></a></h2><table><thead><tr><th>特性</th><th>Tokio</th><th>async-std</th><th>smol</th><th>embassy</th></tr></thead><tbody><tr><td><strong>生态系统</strong></td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐</td><td>⭐⭐</td><td>⭐⭐</td></tr><tr><td><strong>性能</strong></td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td><strong>易用性</strong></td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐</td></tr><tr><td><strong>文档</strong></td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐</td><td>⭐⭐⭐</td></tr><tr><td><strong>编译速度</strong></td><td>⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐</td></tr><tr><td><strong>代码体积</strong></td><td>大</td><td>中</td><td>小</td><td>极小</td></tr><tr><td><strong>适用平台</strong></td><td>服务器</td><td>通用</td><td>通用</td><td>嵌入式</td></tr><tr><td><strong>维护状态</strong></td><td>活跃</td><td>一般</td><td>活跃</td><td>活跃</td></tr></tbody></table><h2 id="性能测试" tabindex="-1"><a class="header-anchor" href="#性能测试"><span>性能测试</span></a></h2><h3 id="吞吐量对比" tabindex="-1"><a class="header-anchor" href="#吞吐量对比"><span>吞吐量对比</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// 测试场景：处理 10万个并发请求</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token comment">// 吞吐量: ~500,000 req/s</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">tokio_benchmark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// async-std</span></span>
<span class="line"><span class="token comment">// 吞吐量: ~450,000 req/s</span></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">async_std_benchmark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// smol</span></span>
<span class="line"><span class="token comment">// 吞吐量: ~480,000 req/s</span></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">smol_benchmark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="内存使用" tabindex="-1"><a class="header-anchor" href="#内存使用"><span>内存使用</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Tokio:      ~2.5 MB</span>
<span class="line">async-std:  ~2.0 MB</span>
<span class="line">smol:       ~1.5 MB</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编译时间" tabindex="-1"><a class="header-anchor" href="#编译时间"><span>编译时间</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Tokio:      ~45s (首次编译)</span>
<span class="line">async-std:  ~30s</span>
<span class="line">smol:       ~15s</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生态系统对比" tabindex="-1"><a class="header-anchor" href="#生态系统对比"><span>生态系统对比</span></a></h2><h3 id="web-框架支持" tabindex="-1"><a class="header-anchor" href="#web-框架支持"><span>Web 框架支持</span></a></h3><table><thead><tr><th>框架</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>axum</td><td>✅</td><td>❌</td><td>❌</td></tr><tr><td>actix-web</td><td>✅</td><td>❌</td><td>❌</td></tr><tr><td>warp</td><td>✅</td><td>❌</td><td>❌</td></tr><tr><td>tide</td><td>❌</td><td>✅</td><td>❌</td></tr><tr><td>poem</td><td>✅</td><td>❌</td><td>❌</td></tr></tbody></table><h3 id="http-客户端" tabindex="-1"><a class="header-anchor" href="#http-客户端"><span>HTTP 客户端</span></a></h3><table><thead><tr><th>库</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>reqwest</td><td>✅</td><td>✅</td><td>⚠️</td></tr><tr><td>surf</td><td>❌</td><td>✅</td><td>❌</td></tr><tr><td>hyper</td><td>✅</td><td>❌</td><td>❌</td></tr></tbody></table><h3 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库"><span>数据库</span></a></h3><table><thead><tr><th>库</th><th>Tokio</th><th>async-std</th><th>smol</th></tr></thead><tbody><tr><td>sqlx</td><td>✅</td><td>✅</td><td>⚠️</td></tr><tr><td>tokio-postgres</td><td>✅</td><td>❌</td><td>❌</td></tr><tr><td>async-postgres</td><td>❌</td><td>✅</td><td>❌</td></tr></tbody></table><h2 id="选择指南" tabindex="-1"><a class="header-anchor" href="#选择指南"><span>选择指南</span></a></h2><h3 id="选择-tokio-如果" tabindex="-1"><a class="header-anchor" href="#选择-tokio-如果"><span>选择 Tokio 如果：</span></a></h3><p>✅ 构建生产应用<br> ✅ 需要丰富的生态系统<br> ✅ 性能是关键<br> ✅ 使用流行的 Web 框架<br> ✅ 团队熟悉 Tokio</p><h3 id="选择-async-std-如果" tabindex="-1"><a class="header-anchor" href="#选择-async-std-如果"><span>选择 async-std 如果：</span></a></h3><p>✅ 学习异步编程<br> ✅ 喜欢标准库风格 API<br> ✅ 中小型项目<br> ✅ 需要快速原型<br> ✅ 简单性优先</p><h3 id="选择-smol-如果" tabindex="-1"><a class="header-anchor" href="#选择-smol-如果"><span>选择 smol 如果：</span></a></h3><p>✅ 需要小的二进制大小<br> ✅ 快速编译重要<br> ✅ CLI 工具<br> ✅ 嵌入到其他应用<br> ✅ 灵活性需求</p><h3 id="选择-embassy-如果" tabindex="-1"><a class="header-anchor" href="#选择-embassy-如果"><span>选择 embassy 如果：</span></a></h3><p>✅ 嵌入式开发<br> ✅ 无操作系统环境<br> ✅ IoT 设备<br> ✅ 微控制器</p><h2 id="迁移指南" tabindex="-1"><a class="header-anchor" href="#迁移指南"><span>迁移指南</span></a></h2><h3 id="从-async-std-迁移到-tokio" tabindex="-1"><a class="header-anchor" href="#从-async-std-迁移到-tokio"><span>从 async-std 迁移到 Tokio</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// async-std</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span></span>task<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">async_std<span class="token punctuation">::</span>net<span class="token punctuation">::</span></span><span class="token class-name">TcpListener</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> listener <span class="token operator">=</span> <span class="token class-name">TcpListener</span><span class="token punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span></span>task<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">use</span> <span class="token namespace">tokio<span class="token punctuation">::</span>net<span class="token punctuation">::</span></span><span class="token class-name">TcpListener</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> listener <span class="token operator">=</span> <span class="token class-name">TcpListener</span><span class="token punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>主要改动：</p><ol><li>更换依赖</li><li>替换 <code>use</code> 语句</li><li>修改宏（<code>#[async_std::main]</code> → <code>#[tokio::main]</code>）</li></ol><h3 id="从-tokio-迁移到-smol" tabindex="-1"><a class="header-anchor" href="#从-tokio-迁移到-smol"><span>从 Tokio 迁移到 smol</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// Tokio</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;任务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// smol</span></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token namespace">smol<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;任务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="兼容性" tabindex="-1"><a class="header-anchor" href="#兼容性"><span>兼容性</span></a></h2><h3 id="futures-crate" tabindex="-1"><a class="header-anchor" href="#futures-crate"><span>futures crate</span></a></h3><p>所有运行时都兼容 <code>futures</code> crate：</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token namespace">futures<span class="token punctuation">::</span>future<span class="token punctuation">::</span></span>join_all<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 可以在任何运行时使用</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> futures <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span></span>
<span class="line">        <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token keyword">async</span> <span class="token punctuation">{</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">let</span> results <span class="token operator">=</span> <span class="token function">join_all</span><span class="token punctuation">(</span>futures<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{:?}&quot;</span><span class="token punctuation">,</span> results<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运行时无关的代码" tabindex="-1"><a class="header-anchor" href="#运行时无关的代码"><span>运行时无关的代码</span></a></h3><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// 编写运行时无关的异步代码</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">generic_async_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 使用标准 Future 和 Stream</span></span>
<span class="line">    <span class="token comment">// 不依赖特定运行时</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 可以在任何运行时使用</span></span>
<span class="line"><span class="token attribute attr-name">#[tokio::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">with_tokio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">generic_async_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token attribute attr-name">#[async_std::main]</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">with_async_std</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">generic_async_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="混合使用-不推荐" tabindex="-1"><a class="header-anchor" href="#混合使用-不推荐"><span>混合使用（不推荐）</span></a></h2><p>虽然技术上可行，但不推荐在同一项目中混用运行时：</p><div class="language-rust line-numbers-mode" data-highlighter="prismjs" data-ext="rs"><pre><code><span class="line"><span class="token comment">// ❌ 不推荐</span></span>
<span class="line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Tokio runtime</span></span>
<span class="line">    <span class="token keyword">let</span> tokio_rt <span class="token operator">=</span> <span class="token namespace">tokio<span class="token punctuation">::</span>runtime<span class="token punctuation">::</span></span><span class="token class-name">Runtime</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// async-std runtime</span></span>
<span class="line">    <span class="token namespace">async_std<span class="token punctuation">::</span>task<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 可能导致问题</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="社区和支持" tabindex="-1"><a class="header-anchor" href="#社区和支持"><span>社区和支持</span></a></h2><h3 id="github-stars-2024" tabindex="-1"><a class="header-anchor" href="#github-stars-2024"><span>GitHub Stars（2024）</span></a></h3><ul><li>Tokio: ~20k+ ⭐</li><li>async-std: ~3.5k+ ⭐</li><li>smol: ~1.5k+ ⭐</li><li>embassy: ~3k+ ⭐</li></ul><h3 id="企业使用" tabindex="-1"><a class="header-anchor" href="#企业使用"><span>企业使用</span></a></h3><p><strong>Tokio</strong>:</p><ul><li>Discord</li><li>Amazon</li><li>Microsoft</li><li>Cloudflare</li></ul><p><strong>async-std</strong>:</p><ul><li>Surf</li><li>中小型项目</li></ul><p><strong>smol</strong>:</p><ul><li>独立开发者</li><li>CLI 工具</li></ul><h2 id="决策树" tabindex="-1"><a class="header-anchor" href="#决策树"><span>决策树</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">需要异步运行时？</span>
<span class="line">│</span>
<span class="line">├─ 嵌入式? → embassy</span>
<span class="line">│</span>
<span class="line">├─ 快速编译/小体积? → smol</span>
<span class="line">│</span>
<span class="line">├─ 学习/简单项目? → async-std</span>
<span class="line">│</span>
<span class="line">└─ 生产应用/性能/生态? → Tokio ✅</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p><strong>推荐优先选择 Tokio</strong>，因为：</p><ol><li>🏆 <strong>生态最好</strong>：几乎所有异步库都支持</li><li>🚀 <strong>性能最优</strong>：经过大规模验证</li><li>📚 <strong>文档完善</strong>：学习资源丰富</li><li>🏢 <strong>生产就绪</strong>：被大量企业使用</li><li>🔧 <strong>功能全面</strong>：满足各种需求</li></ol><p><strong>其他运行时的价值</strong>：</p><ul><li><strong>async-std</strong>：学习 + 简单项目</li><li><strong>smol</strong>：快速编译 + CLI 工具</li><li><strong>embassy</strong>：嵌入式开发</li></ul><p>对于大多数应用开发，<strong>Tokio 是最佳选择</strong>！🦀⚡</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-10-26T15:13:32.000Z" data-allow-mismatch>10/26/25, 3:13 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1030360567@qq.com">uponup</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/x-lang/assets/app-WzcM213c.js" defer></script>
  </body>
</html>
